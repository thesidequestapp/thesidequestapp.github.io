<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIDEQUEST | The Fun One</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts: Space Mono (Tech/Raw) and Archivo Black (Heavy/Bold) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <style>
        html {
            scroll-behavior: smooth;
        }

        /* Remove default tap highlight on mobile to show our custom effects */
        * {
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --color-bg: #f0f0f0;
            --color-text: #1a1a1a;
            --color-accent-1: #ccff00; /* Acid Lime */
            --color-accent-2: #ff00ff; /* Hot Magenta */
            --color-accent-3: #00ffff; /* Cyan */
            --border-thick: 3px solid #000;
        }

        body {
            background-color: var(--color-bg);
            color: var(--color-text);
            font-family: 'Space Mono', monospace;
            overflow-x: hidden;
        }

        h1, h2, h3, .display-font {
            font-family: 'Archivo Black', sans-serif;
            text-transform: uppercase;
        }

        /* Brutalist Utilities */
        .brutal-box {
            background: white;
            border: 3px solid black;
            box-shadow: 6px 6px 0px 0px black;
            transition: all 0.1s ease;
        }

        /* Desktop Hover */
        @media (hover: hover) {
            .brutal-box:hover {
                box-shadow: 2px 2px 0px 0px black;
                transform: translate(4px, 4px);
            }
        }

        /* Removed Mobile/Touch Active State for brutal-box to prevent scroll jitter */

        .brutal-btn {
            background: var(--color-accent-1);
            border: 3px solid black;
            box-shadow: 4px 4px 0px 0px black;
            font-weight: 700;
            text-transform: uppercase;
            padding: 0.75rem 1.5rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
            user-select: none;
        }

        /* Desktop Hover */
        @media (hover: hover) {
            .brutal-btn:hover {
                background: white;
                box-shadow: 2px 2px 0px 0px black;
                transform: translate(2px, 2px);
            }
        }

        /* TOUCH 3D EFFECT: Full Depression */
        .brutal-btn:active {
            background: white;
            box-shadow: 0px 0px 0px 0px black !important;
            transform: translate(4px, 4px) !important;
            transition: none; /* Snap instantly */
        }

        .brutal-btn.secondary {
            background: white;
        }
        
        @media (hover: hover) {
            .brutal-btn.secondary:hover {
                background: var(--color-accent-2);
            }
        }
        
        /* White Shadow Variant (For Dark Backgrounds) */
        .shadow-white {
            box-shadow: 4px 4px 0px 0px white;
        }
        @media (hover: hover) {
            .shadow-white:hover {
                box-shadow: 2px 2px 0px 0px white;
                transform: translate(2px, 2px);
            }
        }
        .shadow-white:active {
            box-shadow: 0px 0px 0px 0px white !important;
            transform: translate(4px, 4px) !important;
            transition: none;
        }

        /* Marquee Animation */
        .marquee-container {
            overflow: hidden;
            white-space: nowrap;
            background: black;
            color: white;
            border-top: 3px solid black;
            border-bottom: 3px solid black;
            padding: 1rem 0;
        }

        .marquee-content {
            display: inline-block;
            animation: marquee 20s linear infinite;
        }

        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* Grid Pattern Background */
        .grid-bg {
            background-image: 
                linear-gradient(to right, #00000010 1px, transparent 1px),
                linear-gradient(to bottom, #00000010 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .stamp {
            mix-blend-mode: multiply;
            animation: stamp-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            opacity: 0;
            transform: scale(2) rotate(15deg);
        }

        @keyframes stamp-in {
            to {
                opacity: 1;
                transform: scale(1) rotate(-5deg);
            }
        }

        .glitch-hover:hover {
            animation: shake 0.5s;
            animation-iteration-count: infinite;
        }

        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-left: 3px solid black;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--color-accent-2);
            border: 3px solid black;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #000;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Navigation -->
    <nav class="border-b-4 border-black bg-white sticky top-0 z-50">
        <div class="max-w-7xl mx-auto flex justify-between items-stretch min-h-[80px]">
            <div class="flex items-center px-6 bg-black text-white cursor-pointer active:scale-95 transition-transform">
                <span class="text-3xl font-black tracking-tighter glitch-hover">SIDEQUEST</span>
            </div>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex border-l-4 border-black flex-1 justify-end">
                <a href="#explore" class="flex items-center px-8 hover:bg-[#ccff00] hover:font-bold border-r-4 border-black transition-all text-lg active:bg-[#ccff00] active:shadow-[inset_0px_4px_4px_rgba(0,0,0,0.1)]">PLAYERS</a>
                <a href="#host" class="flex items-center px-8 hover:bg-[#ff00ff] hover:text-white hover:font-bold border-r-4 border-black transition-all text-lg active:bg-[#ff00ff] active:text-white active:shadow-[inset_0px_4px_4px_rgba(0,0,0,0.1)]">GUILD MASTERS</a>
                <a href="#passport" class="flex items-center px-8 hover:bg-[#00ffff] hover:font-bold border-r-4 border-black transition-all text-lg active:bg-[#00ffff] active:shadow-[inset_0px_4px_4px_rgba(0,0,0,0.1)]">PASSPORT</a>
                <div onclick="toggleWaitlist(true)" class="flex items-center px-8 bg-gray-100 cursor-pointer hover:bg-black hover:text-white transition-all active:bg-black active:text-white active:scale-95">
                    LOGIN
                </div>
            </div>

            <!-- Mobile Menu Button -->
            <div class="md:hidden flex items-center px-6 border-l-4 border-black bg-[var(--color-accent-1)] cursor-pointer active:bg-white active:text-black active:scale-95 transition-all" onclick="toggleMobileMenu()">
                <i data-lucide="menu" class="w-8 h-8"></i>
            </div>
        </div>

        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-b-4 border-black animate-in slide-in-from-top-4 duration-200 shadow-[0px_10px_20px_rgba(0,0,0,0.2)] relative z-40">
            <div class="flex flex-col">
                <a href="#explore" onclick="toggleMobileMenu()" class="p-6 border-b-4 border-black font-bold text-xl hover:bg-[#ccff00] active:bg-[#ccff00] active:pl-8 transition-all flex justify-between items-center">
                    PLAYERS <i data-lucide="arrow-right"></i>
                </a>
                <a href="#host" onclick="toggleMobileMenu()" class="p-6 border-b-4 border-black font-bold text-xl hover:bg-[#ff00ff] active:bg-[#ff00ff] active:pl-8 transition-all flex justify-between items-center">
                    GUILD MASTERS <i data-lucide="arrow-right"></i>
                </a>
                <a href="#passport" onclick="toggleMobileMenu()" class="p-6 border-b-4 border-black font-bold text-xl hover:bg-[#00ffff] active:bg-[#00ffff] active:pl-8 transition-all flex justify-between items-center">
                    PASSPORT <i data-lucide="arrow-right"></i>
                </a>
                <div onclick="toggleWaitlist(true); toggleMobileMenu()" class="p-6 font-bold text-xl bg-gray-100 active:bg-black active:text-white active:pl-8 transition-all cursor-pointer flex justify-between items-center">
                    LOGIN <i data-lucide="log-in"></i>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="grid-bg relative border-b-4 border-black">
        <div class="max-w-7xl mx-auto min-h-[85vh] flex">
            
            <!-- Hero Text -->
            <div class="w-full p-6 sm:p-10 md:p-24 flex flex-col justify-center bg-white relative overflow-hidden border-x-0 lg:border-x-4 border-black">
                <div class="absolute top-0 left-0 bg-black text-white px-4 py-1 font-bold text-xs uppercase">
                    v1.0.0 // Beta Access
                </div>
                
                <h1 class="text-5xl sm:text-6xl md:text-9xl leading-[0.9] mb-8 break-words">
                    NOT THE <br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-gray-400 to-gray-600 stroke-black" style="-webkit-text-stroke: 1px black; -md-webkit-text-stroke: 2px black;">MAIN QUEST</span><br>
                    <span class="text-[var(--color-accent-2)]">THE FUN ONE</span>
                </h1>
                
                <p class="text-lg md:text-3xl mb-12 font-bold border-l-8 border-[var(--color-accent-1)] pl-6 py-4 max-w-4xl">
                    Run Clubs. Supper Clubs. Random 3AM Hiking Guilds. <br>
                    Unlock your city, one sidequest at a time.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-6">
                    <button onclick="toggleWaitlist(true)" class="brutal-btn text-xl md:text-2xl px-8 py-4 justify-center">
                        START QUESTING <i data-lucide="arrow-right"></i>
                    </button>
                    <button onclick="toggleWaitlist(true)" class="brutal-btn secondary text-xl md:text-2xl px-8 py-4 justify-center">
                        CREATE GUILD
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Marquee -->
    <div class="marquee-container">
        <div class="marquee-content text-4xl font-black">
            RUN CLUBS /// SUPPER CLUBS /// HIKING GUILDS /// ART JAMS /// ROOFTOP YOGA /// MIDNIGHT CYCLING /// BOARD GAME WARS /// RUN CLUBS /// SUPPER CLUBS /// HIKING GUILDS /// ART JAMS /// ROOFTOP YOGA /// MIDNIGHT CYCLING /// BOARD GAME WARS ///
        </div>
    </div>

    <!-- What is Sidequest? / FOR PLAYERS -->
    <section id="explore" class="py-20 px-4 max-w-7xl mx-auto">
        <div class="flex flex-col md:flex-row md:justify-between md:items-end mb-10 border-b-4 border-black pb-4">
            <h2 class="text-5xl md:text-6xl">FOR <span class="text-[var(--color-accent-2)]">PLAYERS</span></h2>
            <div class="hidden md:block font-mono font-bold text-xl">/// START YOUR JOURNEY</div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Concept 1 -->
            <div class="brutal-box p-6 bg-[#ff90e8]">
                <div class="border-b-4 border-black pb-4 mb-4 flex justify-between items-start">
                    <h2 class="text-4xl">01</h2>
                    <i data-lucide="map" class="w-12 h-12"></i>
                </div>
                <h3 class="text-2xl mb-2">DISCOVER GUILDS</h3>
                <p class="font-bold">Stop scrolling, start doing. Find local micro-communities that match your vibe. From serious marathon training to "I just run for the bagel" groups.</p>
            </div>

            <!-- Concept 2 -->
            <div class="brutal-box p-6 bg-[#fff500]">
                <div class="border-b-4 border-black pb-4 mb-4 flex justify-between items-start">
                    <h2 class="text-4xl">02</h2>
                    <i data-lucide="calendar" class="w-12 h-12"></i>
                </div>
                <h3 class="text-2xl mb-2">DROP IN</h3>
                <p class="font-bold">No long-term contracts. Just book a slot, show up, and have fun. Filter by vibe, intensity, and post-event snacks.</p>
            </div>

            <!-- Concept 3 -->
            <div class="brutal-box p-6 bg-[#00ff94]">
                <div class="border-b-4 border-black pb-4 mb-4 flex justify-between items-start">
                    <h2 class="text-4xl">03</h2>
                    <i data-lucide="award" class="w-12 h-12"></i>
                </div>
                <h3 class="text-2xl mb-2">EARN BADGES</h3>
                <p class="font-bold">Gamify your social life. Every event attended adds a unique digital stamp to your Sidequest Passport. Share your loot on Social Media.</p>
            </div>
        </div>
    </section>

    <!-- FOR GUILD MASTERS (Expanded) -->
    <section id="host" class="border-t-4 border-black">
        <div class="p-10 md:p-20 bg-black text-white flex flex-col justify-center relative overflow-hidden min-h-[60vh]">
            <!-- Decorative Crown -->
            <div class="absolute top-10 right-10 p-4 opacity-20 md:opacity-100">
                <i data-lucide="crown" class="w-32 h-32 md:w-48 md:h-48 text-[var(--color-accent-1)] rotate-12"></i>
            </div>
            
            <div class="max-w-7xl mx-auto w-full relative z-10">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-16 gap-8">
                    <div class="max-w-3xl">
                        <h2 class="text-5xl md:text-8xl mb-8 text-[var(--color-accent-1)] leading-[0.9]">FOR <br>GUILD MASTERS</h2>
                        <p class="text-gray-300 text-xl md:text-2xl font-mono border-l-4 border-white pl-6">
                            Managing a club via Instagram and Google sheets is hell. Use Sidequest to handle payments, waivers, and check-ins while you focus on the vibes.
                        </p>
                    </div>
                    <button onclick="toggleWaitlist(true)" class="brutal-btn secondary text-black shadow-white text-xl px-8 py-4 whitespace-nowrap w-full md:w-auto justify-center">
                        CREATE COMMUNITY
                    </button>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="border-2 border-white p-6 hover:bg-white hover:text-black transition-colors group h-full flex flex-col justify-between active:bg-white active:text-black active:scale-[0.98] duration-75">
                        <div class="mb-4 group-hover:scale-110 transition-transform origin-left">
                            <i data-lucide="credit-card" class="w-10 h-10"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-2xl mb-2">PAYMENTS</h4>
                            <p class="text-sm opacity-70 font-mono">Collect dues, drop-in fees, and sell merch without the chase.</p>
                        </div>
                    </div>
                    
                    <div class="border-2 border-white p-6 hover:bg-white hover:text-black transition-colors group h-full flex flex-col justify-between active:bg-white active:text-black active:scale-[0.98] duration-75">
                         <div class="mb-4 group-hover:scale-110 transition-transform origin-left">
                            <i data-lucide="bar-chart-2" class="w-10 h-10"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-2xl mb-2">ANALYTICS</h4>
                            <p class="text-sm opacity-70 font-mono">Know your crowd. Track retention, growth, and popular events.</p>
                        </div>
                    </div>
                    
                    <div class="border-2 border-white p-6 hover:bg-white hover:text-black transition-colors group h-full flex flex-col justify-between active:bg-white active:text-black active:scale-[0.98] duration-75">
                         <div class="mb-4 group-hover:scale-110 transition-transform origin-left">
                            <i data-lucide="qr-code" class="w-10 h-10"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-2xl mb-2">CHECK-IN</h4>
                            <p class="text-sm opacity-70 font-mono">One-tap QR code check-in. No clipboards, no paper lists.</p>
                        </div>
                    </div>
                    
                    <div class="border-2 border-white p-6 hover:bg-white hover:text-black transition-colors group h-full flex flex-col justify-between active:bg-white active:text-black active:scale-[0.98] duration-75">
                         <div class="mb-4 group-hover:scale-110 transition-transform origin-left">
                            <i data-lucide="wrench" class="w-10 h-10"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-2xl mb-2">TOOLS</h4>
                            <p class="text-sm opacity-70 font-mono">Digital waivers, automated emails, and waiting list management.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- The PASSPORT Section (Gamification) -->
    <section id="passport" class="py-20 bg-[#f0f0f0] relative border-b-4 border-black overflow-hidden">
        <!-- Background decoration -->
        <div class="absolute top-10 left-10 opacity-20 text-5xl md:text-9xl font-black select-none">LEVEL UP</div>
        
        <div class="max-w-6xl mx-auto px-4 relative z-10">
            <div class="flex flex-col md:flex-row gap-12 items-center">
                
                <!-- Text Side -->
                <div class="w-full md:w-1/2">
                    <h2 class="text-5xl md:text-6xl mb-6">YOUR <br><span class="text-[var(--color-accent-2)]" style="-webkit-text-stroke: 2px black; color: transparent; -webkit-text-fill-color: transparent; -webkit-text-stroke-width: 2px;">PASSPORT</span></h2>
                    <p class="text-xl mb-6 font-bold">Life is a game. Collect the receipts.</p>
                    <p class="mb-8 font-mono">Every event you attend unlocks a unique stamp for your digital passport. Complete sets (e.g., "The 5k Enthusiast" or "The Foodie Weekender") to unlock exclusive perks from our brand partners.</p>
                    
                    <div class="bg-white border-4 border-black p-6 max-w-md shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]">
                        <div class="flex items-center gap-4 mb-4">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-16 h-16 border-2 border-black rounded-none bg-yellow-200">
                            <div>
                                <h4 class="font-bold text-xl">PLAYER 456</h4>
                                <p class="text-sm text-gray-500">Lvl 12 Explorer</p>
                            </div>
                        </div>
                        <div class="w-full bg-gray-200 h-4 border-2 border-black mb-2">
                            <div class="bg-[var(--color-accent-2)] h-full w-3/4"></div>
                        </div>
                        <div class="flex justify-between text-xs font-bold">
                            <span>XP: 4500</span>
                            <span>NEXT: 5000</span>
                        </div>
                    </div>
                </div>

                <!-- Interactive Passport Visual -->
                <div class="w-full md:w-1/2 flex justify-center">
                    <!-- Adjusted width and scaling for mobile -->
                    <div class="bg-[#f4eec7] w-full max-w-md aspect-[3/4] border-4 border-black relative shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] md:shadow-[12px_12px_0px_0px_rgba(0,0,0,1)] p-4 md:p-6 rotate-1">
                        <!-- Passport Header -->
                        <div class="border-b-2 border-black/20 pb-2 mb-4 flex justify-between items-center">
                            <span class="font-mono text-xs md:text-sm opacity-50">SIDEQUEST_ID_9928</span>
                            <i data-lucide="globe" class="opacity-50"></i>
                        </div>

                        <!-- Stamp Grid -->
                        <div class="grid grid-cols-3 gap-2 md:gap-4 h-full content-start" id="stamp-grid">
                            
                            <!-- Pre-filled stamp 1: Octagon -->
                            <div class="aspect-square flex items-center justify-center relative">
                                <svg viewBox="0 0 100 100" class="w-20 h-20 md:w-24 md:h-24 drop-shadow-[4px_4px_0px_rgba(0,0,0,1)] transform -rotate-6 transition-transform active:scale-95 duration-200 cursor-pointer">
                                    <path d="M30,5 L70,5 L95,30 L95,70 L70,95 L30,95 L5,70 L5,30 Z" fill="#ccff00" stroke="black" stroke-width="3" />
                                    <text x="50" y="45" font-family="Archivo Black" font-size="12" text-anchor="middle" fill="black">WEEKEND</text>
                                    <text x="50" y="60" font-family="Archivo Black" font-size="12" text-anchor="middle" fill="black">WARRIOR</text>
                                </svg>
                            </div>

                            <!-- Pre-filled stamp 2: Circle -->
                            <div class="aspect-square flex items-center justify-center">
                                <svg viewBox="0 0 100 100" class="w-20 h-20 md:w-24 md:h-24 drop-shadow-[4px_4px_0px_rgba(0,0,0,1)] transform rotate-3 transition-transform active:scale-95 duration-200 cursor-pointer">
                                    <circle cx="50" cy="50" r="45" fill="#ff00ff" stroke="black" stroke-width="3" />
                                    <text x="50" y="45" font-family="Archivo Black" font-size="13" text-anchor="middle" fill="white">NIGHT</text>
                                    <text x="50" y="60" font-family="Archivo Black" font-size="13" text-anchor="middle" fill="white">OWL</text>
                                </svg>
                            </div>
                            
                            <!-- Pre-filled stamp 3: Triangle -->
                            <div class="aspect-square flex items-center justify-center">
                                <svg viewBox="0 0 100 100" class="w-20 h-20 md:w-24 md:h-24 drop-shadow-[4px_4px_0px_rgba(0,0,0,1)] transform -rotate-2 transition-transform active:scale-95 duration-200 cursor-pointer">
                                    <path d="M50 10 L90 90 L10 90 Z" fill="#00ffff" stroke="black" stroke-width="3" />
                                    <text x="50" y="60" font-family="Archivo Black" font-size="9" text-anchor="middle" fill="black">URBAN</text>
                                    <text x="50" y="75" font-family="Archivo Black" font-size="9" text-anchor="middle" fill="black">EXPLORER</text>
                                </svg>
                            </div>

                            <!-- Empty Slots -->
                            <div class="aspect-square border-2 border-dashed border-black/30 rounded-full flex items-center justify-center text-black/20 transition-all cursor-pointer group active:bg-black/10 active:scale-90 duration-100" onclick="addStamp(this)">
                                <span class="text-[10px] md:text-xs text-center group-hover:hidden select-none">Click me</span>
                            </div>
                             <div class="aspect-square border-2 border-dashed border-black/30 rounded-full flex items-center justify-center text-black/20 transition-all cursor-pointer group active:bg-black/10 active:scale-90 duration-100" onclick="addStamp(this)">
                                <span class="text-[10px] md:text-xs text-center group-hover:hidden select-none">Click me</span>
                            </div>
                             <div class="aspect-square border-2 border-dashed border-black/30 rounded-full flex items-center justify-center text-black/20 transition-all cursor-pointer group active:bg-black/10 active:scale-90 duration-100" onclick="addStamp(this)">
                                <span class="text-[10px] md:text-xs text-center group-hover:hidden select-none">Click me</span>
                            </div>
                        </div>

                        <!-- Bottom Share -->
                        <div class="absolute bottom-4 right-4">
                             <button class="bg-[#ff00ff] text-white text-[10px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-2 border-2 border-black hover:bg-white hover:text-black shadow-[3px_3px_0px_0px_black] active:shadow-[0px_0px_0px_0px_black] active:translate-x-[3px] active:translate-y-[3px] transition-none flex items-center gap-2">
                                <i data-lucide="instagram" class="w-3 h-3 md:w-4 md:h-4"></i> SHARE
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live Feed / Upcoming Events -->
    <section class="py-20 px-4 bg-[var(--color-accent-1)] border-b-4 border-black">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-10 border-b-4 border-black pb-4">
                <h2 class="text-5xl">QUEST BOARD</h2>
                <!-- Updated Location -->
                <div class="font-mono font-bold mt-4 md:mt-0">LOCATION: BENGALURU, INDIA</div>
            </div>

            <div class="flex flex-col gap-4">
                <!-- Event Row 1 -->
                <div class="bg-white border-4 border-black p-4 flex flex-col md:flex-row items-start md:items-center justify-between transition-all cursor-pointer shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] active:translate-x-1 active:translate-y-1">
                    <div class="flex items-center gap-4 w-full md:w-auto">
                        <div class="bg-black text-white p-3 font-bold text-center min-w-[70px]">
                            <div class="text-xs">OCT</div>
                            <div class="text-2xl">12</div>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold uppercase">Sunday Runday & Coffee</h3>
                            <div class="flex gap-2 text-sm mt-1">
                                <span class="bg-gray-200 px-2 border border-black">5KM</span>
                                <span class="bg-gray-200 px-2 border border-black">Chill Pace</span>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 md:mt-0 flex items-center gap-6 w-full md:w-auto justify-between">
                        <div class="flex -space-x-2">
                            <img class="w-8 h-8 rounded-full border-2 border-white bg-gray-300" src="https://api.dicebear.com/7.x/avataaars/svg?seed=1" alt="">
                            <img class="w-8 h-8 rounded-full border-2 border-white bg-gray-300" src="https://api.dicebear.com/7.x/avataaars/svg?seed=2" alt="">
                            <img class="w-8 h-8 rounded-full border-2 border-white bg-gray-300" src="https://api.dicebear.com/7.x/avataaars/svg?seed=3" alt="">
                            <div class="w-8 h-8 rounded-full border-2 border-white bg-black text-white flex items-center justify-center text-xs font-bold">+12</div>
                        </div>
                        <!-- Added onclick trigger -->
                        <button onclick="toggleWaitlist(true)" class="brutal-btn text-sm py-2">JOIN $0</button>
                    </div>
                </div>

                 <!-- Event Row 2 -->
                <div class="bg-white border-4 border-black p-4 flex flex-col md:flex-row items-start md:items-center justify-between transition-all cursor-pointer shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] active:translate-x-1 active:translate-y-1">
                    <div class="flex items-center gap-4 w-full md:w-auto">
                        <div class="bg-black text-white p-3 font-bold text-center min-w-[70px]">
                            <div class="text-xs">OCT</div>
                            <div class="text-2xl">14</div>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold uppercase">Midnight Cycling Guild</h3>
                            <div class="flex gap-2 text-sm mt-1">
                                <span class="bg-gray-200 px-2 border border-black">20KM</span>
                                <span class="bg-[var(--color-accent-2)] text-white px-2 border border-black">Night</span>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 md:mt-0 flex items-center gap-6 w-full md:w-auto justify-between">
                        <div class="flex -space-x-2">
                            <img class="w-8 h-8 rounded-full border-2 border-white bg-gray-300" src="https://api.dicebear.com/7.x/avataaars/svg?seed=4" alt="">
                            <img class="w-8 h-8 rounded-full border-2 border-white bg-gray-300" src="https://api.dicebear.com/7.x/avataaars/svg?seed=5" alt="">
                            <div class="w-8 h-8 rounded-full border-2 border-white bg-black text-white flex items-center justify-center text-xs font-bold">+40</div>
                        </div>
                        <!-- Added onclick trigger -->
                        <button onclick="toggleWaitlist(true)" class="brutal-btn text-sm py-2">JOIN $5</button>
                    </div>
                </div>

                 <!-- Event Row 3 -->
                <div class="bg-white border-4 border-black p-4 flex flex-col md:flex-row items-start md:items-center justify-between transition-all cursor-pointer shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] active:translate-x-1 active:translate-y-1">
                    <div class="flex items-center gap-4 w-full md:w-auto">
                        <div class="bg-black text-white p-3 font-bold text-center min-w-[70px]">
                            <div class="text-xs">OCT</div>
                            <div class="text-2xl">15</div>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold uppercase">Secret Pasta Club</h3>
                            <div class="flex gap-2 text-sm mt-1">
                                <span class="bg-gray-200 px-2 border border-black">Food</span>
                                <span class="bg-[var(--color-accent-3)] px-2 border border-black">Social</span>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 md:mt-0 flex items-center gap-6 w-full md:w-auto justify-between">
                        <div class="flex -space-x-2">
                            <img class="w-8 h-8 rounded-full border-2 border-white bg-gray-300" src="https://api.dicebear.com/7.x/avataaars/svg?seed=8" alt="">
                            <div class="w-8 h-8 rounded-full border-2 border-white bg-black text-white flex items-center justify-center text-xs font-bold">+8</div>
                        </div>
                        <!-- Added onclick trigger -->
                        <button onclick="toggleWaitlist(true)" class="brutal-btn text-sm py-2">JOIN $25</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white py-20 px-4">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12">
            <div>
                <h2 class="text-5xl md:text-6xl mb-4">SIDEQUEST</h2>
                <p class="font-mono text-gray-400 max-w-md mb-8">The main quest is working 9 to 5. The side quest is everything else that makes life worth living. Join the resistance against boredom.</p>
                
                <div class="flex gap-4">
                    <a href="#" class="w-12 h-12 border-2 border-white flex items-center justify-center hover:bg-white hover:text-black transition-colors active:scale-90"><i data-lucide="instagram"></i></a>
                    <a href="#" class="w-12 h-12 border-2 border-white flex items-center justify-center hover:bg-white hover:text-black transition-colors active:scale-90"><i data-lucide="twitter"></i></a>
                    <a href="#" class="w-12 h-12 border-2 border-white flex items-center justify-center hover:bg-white hover:text-black transition-colors active:scale-90"><i data-lucide="youtube"></i></a>
                </div>
            </div>

            <div class="flex flex-col justify-end">
                <h3 class="text-2xl mb-4 font-bold">GET THE APP</h3>
                <div class="flex flex-col sm:flex-row gap-4">
                    <!-- Updated Buttons with Click Handlers -->
                    <button onclick="toggleWaitlist(true)" class="border-2 border-white px-6 py-3 flex items-center gap-3 hover:bg-white hover:text-black transition-colors active:bg-white active:text-black active:scale-95">
                        <i data-lucide="apple"></i> APP STORE
                    </button>
                    <button onclick="toggleWaitlist(true)" class="border-2 border-white px-6 py-3 flex items-center gap-3 hover:bg-white hover:text-black transition-colors active:bg-white active:text-black active:scale-95">
                        <i data-lucide="play-circle"></i> GOOGLE PLAY
                    </button>
                </div>
                
                <div class="mt-12 pt-8 border-t border-gray-800 text-sm font-mono text-gray-500 flex flex-col md:flex-row justify-between">
                    <p>&copy; 2023 SIDEQUEST INC.</p>
                    <div class="flex gap-4 mt-2 md:mt-0">
                        <a href="#" class="hover:text-white">PRIVACY</a>
                        <a href="#" class="hover:text-white">TERMS</a>
                        <a href="#" class="hover:text-white">CONTACT</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Waitlist Modal -->
    <div id="waitlist-modal" class="fixed inset-0 bg-black/95 z-[100] hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-white border-4 border-[var(--color-accent-1)] p-8 md:p-12 max-w-2xl w-full relative shadow-[8px_8px_0px_0px_var(--color-accent-1)] animate-in fade-in zoom-in duration-300">
            <button onclick="toggleWaitlist(false)" class="absolute top-4 right-4 p-2 hover:bg-black hover:text-white border-2 border-transparent hover:border-black transition-colors active:scale-90">
                <i data-lucide="x" class="w-8 h-8"></i>
            </button>
            
            <h2 class="text-5xl md:text-7xl mb-6 text-black tracking-tighter">COMING <br><span class="text-transparent bg-clip-text bg-gradient-to-r from-[var(--color-accent-2)] to-purple-600" style="-webkit-text-stroke: 1px black; -md-webkit-text-stroke: 2px black;">SOON</span></h2>
            
            <p class="text-xl font-bold mb-8 font-mono border-l-8 border-black pl-4">
                We are currently in closed beta with select guilds in Bengaluru. 
                Drop your email to get early access when we launch in your city.
            </p>

            <form onsubmit="handleWaitlist(event)" class="flex flex-col gap-4">
                <div class="flex flex-col md:flex-row gap-4">
                    <input type="email" placeholder="ENTER YOUR EMAIL" required 
                        class="flex-1 bg-gray-100 border-4 border-black p-4 font-mono text-lg focus:outline-none focus:bg-[var(--color-accent-1)] placeholder-gray-500 transition-colors">
                    <button type="submit" class="brutal-btn text-xl whitespace-nowrap justify-center h-full">
                        NOTIFY ME <i data-lucide="bell"></i>
                    </button>
                </div>
                <p class="text-xs font-mono text-gray-500 mt-2">* No spam. Only epic quests.</p>
            </form>

            <!-- Success Message (Overlay) -->
            <div id="waitlist-success" class="hidden absolute inset-0 bg-white flex flex-col items-center justify-center text-center p-8 z-10">
                <div class="rounded-full border-4 border-black p-4 bg-[var(--color-accent-1)] mb-6 shadow-[4px_4px_0px_0px_black]">
                    <i data-lucide="check" class="w-16 h-16 text-black stroke-[3px]"></i>
                </div>
                <h3 class="text-4xl font-black mb-2 uppercase">You're on the list</h3>
                <p class="font-mono text-xl mb-8">We'll ping you when the quest begins.</p>
                <button onclick="toggleWaitlist(false)" class="brutal-btn w-full justify-center">RETURN TO BASE</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize Icons
        lucide.createIcons();
        
        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // Global state to track what's currently on the board (including pre-filled)
        const usedConcepts = new Set(['WEEKEND', 'NIGHT', 'URBAN']); 
        // We use IDs for shapes to track usage: 'octagon', 'circle', 'triangle' are already used
        const usedShapes = new Set(['octagon', 'circle', 'triangle']);

        // Definition of all possible shapes
        const allShapes = [
            { id: 'octagon', path: 'M30,5 L70,5 L95,30 L95,70 L70,95 L30,95 L5,70 L5,30 Z', type: 'path', fontSize: 12 },
            { id: 'circle', type: 'circle', cx: 50, cy: 50, r: 45, fontSize: 13 },
            { id: 'triangle', path: 'M50 10 L90 90 L10 90 Z', type: 'path', fontSize: 9, textY1: 60, textY2: 75 },
            { id: 'square', type: 'rect', x: 10, y: 10, width: 80, height: 80, fontSize: 12 },
            { id: 'hexagon', path: 'M5 25 L50 5 L95 25 L95 75 L50 95 L5 75 Z', type: 'path', fontSize: 11 }, // Flat-ish top hexagon
            { id: 'shield', path: 'M10 10 L90 10 L90 50 Q50 100 10 50 Z', type: 'path', fontSize: 10, textY1: 35, textY2: 50 }
        ];

        // Definition of all possible concepts
        const allConcepts = [
            { label1: 'COFFEE', label2: 'RUN', color: '#fff500', text: 'black' },
            { label1: 'ART', label2: 'CRAWL', color: '#ff90e8', text: 'black' },
            { label1: 'BOARD', label2: 'GAME', color: '#00ff94', text: 'black' },
            { label1: 'FOODIE', label2: 'TREK', color: '#ffffff', text: 'black' },
            { label1: 'YOGA', label2: 'FLOW', color: '#ff4d4d', text: 'black' }, // Red
            { label1: 'BOOK', label2: 'CLUB', color: '#4d94ff', text: 'black' }, // Blue
            { label1: 'TECH', label2: 'TALK', color: '#ccff00', text: 'black' }, // Lime
            { label1: 'CHESS', label2: 'MATE', color: '#b3b3b3', text: 'black' }  // Grey
        ];

        function addStamp(element) {
            // If already stamped, do nothing
            if(element.querySelector('svg')) return;

            // 1. Filter available options
            let availableShapes = allShapes.filter(s => !usedShapes.has(s.id));
            let availableConcepts = allConcepts.filter(c => !usedConcepts.has(c.label1));

            // Fallback: If we run out of unique shapes/concepts, reset the pool (allows reuse if user stamps A LOT)
            if (availableShapes.length === 0) {
                usedShapes.clear(); // Reset history
                availableShapes = allShapes; 
            }
            if (availableConcepts.length === 0) {
                usedConcepts.clear(); // Reset history
                availableConcepts = allConcepts;
            }

            // 2. Randomly select from the filtered unique pool
            const shape = availableShapes[Math.floor(Math.random() * availableShapes.length)];
            const config = availableConcepts[Math.floor(Math.random() * availableConcepts.length)];
            
            // 3. Mark as used
            usedShapes.add(shape.id);
            usedConcepts.add(config.label1);

            // 4. Render
            const rotation = Math.floor(Math.random() * 30) - 15;

            let svgContent = '';
            if (shape.type === 'circle') {
                svgContent = `<circle cx="${shape.cx}" cy="${shape.cy}" r="${shape.r}" fill="${config.color}" stroke="black" stroke-width="3" />`;
            } else if (shape.type === 'rect') {
                svgContent = `<rect x="${shape.x}" y="${shape.y}" width="${shape.width}" height="${shape.height}" fill="${config.color}" stroke="black" stroke-width="3" />`;
            } else {
                svgContent = `<path d="${shape.path}" fill="${config.color}" stroke="black" stroke-width="3" />`;
            }

            // Adjust text position based on shape specific overrides or defaults
            let textY1 = shape.textY1 || 45; 
            let textY2 = shape.textY2 || 60; 

            const svg = `
                <svg viewBox="0 0 100 100" class="w-20 h-20 md:w-24 md:h-24 drop-shadow-[4px_4px_0px_rgba(0,0,0,1)] stamp transition-transform hover:scale-110 duration-200 cursor-pointer" style="transform: rotate(${rotation}deg);">
                    ${svgContent}
                    <text x="50" y="${textY1}" font-family="Archivo Black" font-size="${shape.fontSize}" text-anchor="middle" fill="${config.text}">${config.label1}</text>
                    <text x="50" y="${textY2}" font-family="Archivo Black" font-size="${shape.fontSize}" text-anchor="middle" fill="${config.text}">${config.label2}</text>
                </svg>
            `;

            element.innerHTML = svg;
            element.classList.remove('border-2', 'border-dashed', 'border-black/30', 'rounded-full', 'hover:bg-white/50', 'active:bg-black/10', 'active:scale-90');
            element.style.border = 'none';
        }

        // Waitlist Modal Logic
        function toggleWaitlist(show) {
            const modal = document.getElementById('waitlist-modal');
            const successMsg = document.getElementById('waitlist-success');
            
            if (show) {
                modal.classList.remove('hidden');
                // Reset success state when reopening
                if (!modal.dataset.success) {
                    successMsg.classList.add('hidden');
                }
            } else {
                modal.classList.add('hidden');
            }
        }

        function handleWaitlist(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const originalContent = btn.innerHTML;
            
            // Loading State
            btn.innerHTML = 'SENDING...';
            btn.classList.add('opacity-50', 'cursor-not-allowed');
            
            // Simulate API call
            setTimeout(() => {
                document.getElementById('waitlist-success').classList.remove('hidden');
                btn.innerHTML = originalContent;
                btn.classList.remove('opacity-50', 'cursor-not-allowed');
                e.target.reset(); // Clear form
                
                // Re-initialize icons for the new success message
                lucide.createIcons();
            }, 1000);
        }
    </script>
</body>
</html>
